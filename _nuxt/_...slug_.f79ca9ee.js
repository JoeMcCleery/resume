import{m as y,l as f,D as b,K as C,L as h,M as x,P as $,s as w,$ as M,a as S,N as T,O as I,Q as R,H as u,r as A,u as m,o as D,c as H,h as L,R as N}from"./entry.81241b3e.js";function j(r,a){const s=y({});return f(()=>{const n=C(r),{title:o,titleTemplate:t,...e}=n;s.value={title:o,titleTemplate:t,meta:h(e)}}),b(s,a)}const B=async(r,a={},s={})=>{const n=`${JSON.stringify(a)}${r}`,o=x(`${n}-state`),t=$();if(w(()=>{o.value&&o.value.id&&M(o.value.id,e=>o.value=e,s)}),!o.value){const{data:e}=await t.get(`cdn/stories/${r}`,a);o.value=e.story}return o},V=S({__name:"[...slug]",emits:["pageLayout","pageColours"],async setup(r,{emit:a}){var i,p,g,d,v,_;let s,n;const o=N(),t=T().params.slug,e=([s,n]=I(()=>B("pages/"+(t&&t.length>0?t.join("/"):"home"),{version:o.public.storyblokVersion,resolve_links:"url"})),s=await s,n(),s);if(e.value.status)throw R({statusCode:e.value.status,statusMessage:e.value.response});a("pageLayout",e.value.content.layout),a("pageColours",{light:{textColour:u(e.value.content.text_colour.color),backgroundColour:u(e.value.content.background_colour.color)},dark:{textColour:u(e.value.content.text_colour_dark.color),backgroundColour:u(e.value.content.background_colour_dark.color)}});const l=((g=(p=(i=e.value)==null?void 0:i.content)==null?void 0:p.seo)==null?void 0:g.title)||o.public.websiteTitle+(t&&t.length>0?` - ${t.join(" - ")}`:""),c=((_=(v=(d=e.value)==null?void 0:d.content)==null?void 0:v.seo)==null?void 0:_.description)||"";return j({title:l,ogTitle:l,description:c,ogDescription:c,ogImage:""}),(E,K)=>{const k=A("StoryblokComponent");return m(e)?(D(),H(k,{key:0,blok:m(e).content},null,8,["blok"])):L("",!0)}}});export{V as default};
