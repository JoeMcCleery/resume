import{m as b,l as C,D as h,K as x,L as w,M,P as S,s as $,$ as T,a as I,N,O as R,Q as k,H as c,r as A,u as y,o as D,c as H,h as L,R as j}from"./entry.a1eb06ad.js";function B(u,a){const s=b({});return C(()=>{const n=x(u),{title:t,titleTemplate:o,...e}=n;s.value={title:t,titleTemplate:o,meta:w(e)}}),h(s,a)}const E=async(u,a={},s={})=>{const n=`${JSON.stringify(a)}${u}`,t=M(`${n}-state`),o=S();if($(()=>{t.value&&t.value.id&&T(t.value.id,e=>t.value=e,s)}),!t.value){const{data:e}=await o.get(`cdn/stories/${u}`,a);t.value=e.story}return t},O=I({__name:"[...slug]",emits:["pageLayout","pageColours"],async setup(u,{emit:a}){var p,g,d,v,_,m;let s,n;const t=j(),o=N().params.slug,e=([s,n]=R(()=>E("pages/"+(o&&o.length>0?o.join("/"):"home"),{version:t.public.storyblokVersion,resolve_links:"url"}).catch(l=>{throw l=JSON.parse(l),k({statusCode:l.status,statusMessage:l.response})})),s=await s,n(),s);if(e.value.status)throw k({statusCode:e.value.status,statusMessage:e.value.response});a("pageLayout",e.value.content.layout),a("pageColours",{light:{textColour:c(e.value.content.text_colour.color),backgroundColour:c(e.value.content.background_colour.color)},dark:{textColour:c(e.value.content.text_colour_dark.color),backgroundColour:c(e.value.content.background_colour_dark.color)}});const r=((d=(g=(p=e.value)==null?void 0:p.content)==null?void 0:g.seo)==null?void 0:d.title)||t.public.websiteTitle+(o&&o.length>0?` - ${o.join(" - ")}`:""),i=((m=(_=(v=e.value)==null?void 0:v.content)==null?void 0:_.seo)==null?void 0:m.description)||"";return B({title:r,ogTitle:r,description:i,ogDescription:i,ogImage:""}),(l,J)=>{const f=A("StoryblokComponent");return y(e)?(D(),H(f,{key:0,blok:y(e).content},null,8,["blok"])):L("",!0)}}});export{O as default};
