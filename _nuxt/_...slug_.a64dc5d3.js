import{u as g,f as _,g as k,h as d,i as f,j as b,k as r,r as v,l as p,o as C,m as y,n as h,q as x}from"./entry.e668bd82.js";import{u as M}from"./useAsyncStoryblok.68ab6952.js";function T(u,l){const{title:t,titleTemplate:s,...a}=u;return g({title:t,titleTemplate:s,_flatMeta:a},{...l,transform(n){const o=_({...n._flatMeta});return delete n._flatMeta,{...n,meta:o}}})}const R=k({__name:"[...slug]",emits:["pageLayout","pageColours"],async setup(u,{emit:l}){let t,s;const a=l,n=x(),o=d().params.slug,e=([t,s]=f(()=>M("pages/"+(o&&o.length>0?o.join("/"):"home"),{version:n.public.storyblokVersion,resolve_links:"url"},{resolveLinks:"url"})),t=await t,s(),t);if(e.value.status)throw b({statusCode:e.value.status,statusMessage:e.value.response});a("pageLayout",e.value.content.layout),a("pageColours",{light:{textColour:r(e.value.content.text_colour.color),backgroundColour:r(e.value.content.background_colour.color)},dark:{textColour:r(e.value.content.text_colour_dark.color),backgroundColour:r(e.value.content.background_colour_dark.color)}});const c=e.value.content.seo.title||n.public.websiteTitle+(o&&o.length>0?` - ${o.join(" - ")}`:""),i=e.value.content.seo.description||"";return T({title:c,ogTitle:c,description:i,ogDescription:i,ogImage:""}),(w,S)=>{const m=v("StoryblokComponent");return p(e)?(C(),y(m,{key:0,blok:p(e).content},null,8,["blok"])):h("",!0)}}});export{R as default};
