import{u as g,f as _,g as k,h as f,i as d,j as r,r as v,k as m,o as b,l as C,m as y,n as h}from"./entry.ff7a5ba8.js";import{u as x}from"./useAsyncStoryblok.b10ccb01.js";import{u as M}from"./vue.f36acd1f.9d4e824f.js";function T(u,l){const{title:t,titleTemplate:s,...a}=u;return M({title:t,titleTemplate:s,_flatMeta:a},{...l,transform(n){const e=g({...n._flatMeta});return delete n._flatMeta,{...n,meta:e}}})}const A=_({__name:"[...slug]",emits:["pageLayout","pageColours"],async setup(u,{emit:l}){let t,s;const a=l,n=h(),e=k().params.slug,o=([t,s]=f(()=>x("pages/"+(e&&e.length>0?e.join("/"):"home"),{version:n.public.storyblokVersion,resolve_links:"url"},{resolveLinks:"url"})),t=await t,s(),t);if(console.log(o.value),o.value.status)throw d({statusCode:o.value.status,statusMessage:o.value.response});a("pageLayout",o.value.content.layout),a("pageColours",{light:{textColour:r(o.value.content.text_colour.color),backgroundColour:r(o.value.content.background_colour.color)},dark:{textColour:r(o.value.content.text_colour_dark.color),backgroundColour:r(o.value.content.background_colour_dark.color)}});const c=o.value.content.seo.title||n.public.websiteTitle+(e&&e.length>0?` - ${e.join(" - ")}`:""),i=o.value.content.seo.description||"";return T({title:c,ogTitle:c,description:i,ogDescription:i,ogImage:""}),(w,S)=>{const p=v("StoryblokComponent");return m(o)?(b(),C(p,{key:0,blok:m(o).content},null,8,["blok"])):y("",!0)}}});export{A as default};
